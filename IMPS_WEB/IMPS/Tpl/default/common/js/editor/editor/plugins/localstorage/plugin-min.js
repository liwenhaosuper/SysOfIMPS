KISSY.Editor.add("localstorage",function(){var d=KISSY,a=d.Editor,b;b=a.STORE="localStorage";if(a.storeReady)d.log("localstorage attach more","warn");else{a.storeReady=function(c){a.on("storeReady",c)};a.on("storeReady",function(){a.storeReady=function(c){c()};a.detach("storeReady")});if(window[b])window[b]._ke||a.fire("storeReady");else{var e=a.Utils.debugUrl("localstorage/swfstore.swf?t="+ +new Date);window[b]=new a.FlashBridge({movie:e,flashVars:{useCompression:true},methods:["setItem","removeItem",
"getValueOf"]});d.mix(window[b],{_ke:1,getItem:function(c){return this.getValueOf(c)}});window[b].on("contentReady",function(){a.fire("storeReady")})}}},{attach:false,requires:["flashutils","flashbridge"]});
